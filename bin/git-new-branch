#!/usr/bin/env ruby
# Usage: git new-branch <local-branch-name>
#
# Creates a local branch, then immediately pushes to origin and sets up
# tracking

def main
  local_branch_name = ARGV[0]

  if local_branch_name.nil?
    puts "usage: git new-branch <local-branch-name>"
    exit
  end

  system("git checkout -b #{local_branch_name}")
  system("git push -u origin #{local_branch_name}:#{local_branch_name}")
end

main
